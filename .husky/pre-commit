#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check if pnpm is being used
if [ -f "package-lock.json" ] || [ -f "yarn.lock" ]; then
  echo "❌ ERROR: Wrong package manager detected!"
  echo "This project requires pnpm. Please remove package-lock.json and yarn.lock files."
  echo "Use 'pnpm install' instead."
  exit 1
fi

# Ensure pnpm-lock.yaml exists
if [ ! -f "pnpm-lock.yaml" ]; then
  echo "❌ ERROR: pnpm-lock.yaml not found!"
  echo "Please run 'pnpm install' to generate the lock file."
  exit 1
fi

echo "✅ Package manager check passed"
